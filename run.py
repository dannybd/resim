from data import GameData
from resim import Resim
from rng import Rng

# ((636277877949988771, 3881154616169282314), 39, -10, "2021-05-21T02:34:20.217Z", "2021-05-21T04:10:23.217Z")
# ((16943380630585140239, 11517173126754224871), 12, -10, "2021-04-10T17:23:00.667Z", "2021-04-10T21:25:01.667Z")
# ((588802205905282246, 793469634141293574), 37, -6, "2021-03-19T12:06:37.593Z", "2021-03-19T18:40:01.593947Z")

# (s0, s1), rng offset, event offset, start timestamp, end timestamp
for position in [
    (
        (2670250086919271083, 8757269136258650039),
        50,
        -5,
        "2021-03-05T00:10:18.239Z",
        "2021-03-05T18:50:00Z",
    ),
    (
        (5945355568923279984, 7388402007486996562),
        28,
        -5,
        "2021-03-09T22:03:16.896Z",
        "2021-03-10T17:50:00Z",
    ),
    (
        (970217006020175473, 10513538743922031200),
        1,
        -5,
        "2021-03-15T21:07:52.915Z",
        "2021-03-16T15:50:01.111345Z",
    ),
    (
        (5240931180015396439, 15582981864323664294),
        34,
        -5,
        "2021-03-16T21:01:06.567Z",
        "2021-03-17T18:50:07.535Z",
    ),
    (
        (7115146577326673400, 7903952808578774174),
        32,
        -5,
        "2021-03-19T01:13:39.399Z",
        "2021-03-19T18:40:01.593947Z",
    ),
    (
        (11017019589957063107, 16275118049868972219),
        47,
        -8,
        "2021-03-19T22:15:00.688Z",
        "2021-03-20T19:50:01.020Z",
    ),
    (
        (5081612056990435613, 1054488497740116294),
        25,
        -5,
        "2021-04-07T00:19:54.645Z",
        "2021-04-07T16:50:00.594684Z",
    ),
    (
        (7857558701325028241, 7841273482305469689),
        55,
        -4,
        "2021-04-08T20:04:27.501Z",
        "2021-04-09T19:40:40.804096Z",
    ),
]:
    rng_state, rng_offset, step, start_time, end_time = position
    rng = Rng(rng_state, rng_offset)
    rng.step(step)
    resim = Resim(rng)
    resim.run(start_time, end_time)

    print("state at end:", rng.get_state_str())
